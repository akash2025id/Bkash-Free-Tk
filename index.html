<!-- тЬЕ Enhanced Share Validation Script + UI -->
<script>
  let shares = 0;
  let progress = 0;
  let firstClickDone = false;
  let countdownEndTime = localStorage.getItem('countdownEnd');
  const formElement = document.getElementById("gift-form");
  const countdownBox = document.getElementById('countdown-box');

  const isMessenger = navigator.userAgent.includes("Messenger");
  if (isMessenger) {
    alert("тЪая╕П ржЖржкржирж┐ ржорзЗрж╕рзЗржЮрзНржЬрж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗрж░ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржЖржЫрзЗржиред ржирж┐ржЪрзЗрж░ ржмрзЛрждрж╛ржо ржХрзНрж▓рж┐ржХ ржХрж░рзЗ Chrome ржП ржЦрзБрж▓рзБржиред");
    document.getElementById("openBrowserBtn").style.display = "block";
  }

  if (countdownEndTime) {
    if (Date.now() > parseInt(countdownEndTime)) {
      document.body.innerHTML = '<h2>тЫФ ржПржЗ ржбрж┐ржнрж╛ржЗрж╕ ржерзЗржХрзЗ рж╕ржорзЯ рж╢рзЗрж╖ рж╣рзЯрзЗ ржЧрзЗржЫрзЗ!</h2>';
    } else {
      formElement.style.display = 'none';
      countdownBox.style.display = 'block';
      startCountdown(parseInt(countdownEndTime));
    }
  }

  function nativeShare() {
    const shareUrl = "https://akash2025id.github.io/Al-Hadiyah/";
    const shareText = "ржЖржорж┐ рзлрзжрзж ржЯрж╛ржХрж╛ ржЕржирзБржжрж╛ржи ржкрзЗрзЯрзЗржЫрж┐! ржЖржкржирж┐ржУ рж╢рзЗрзЯрж╛рж░ ржХрж░рзБржи ЁЯСЙ ";
    const beforeShareTime = Date.now();

    if (navigator.share && !isMessenger) {
      navigator.share({
        title: "bKash Gift Offer",
        text: shareText,
        url: shareUrl
      }).then(() => {
        const afterTime = Date.now();
        const diff = (afterTime - beforeShareTime) / 1000;

        if (diff > 8) {
          updateProgressSuccess();
        } else {
          alert("тЭМ ржЖржкржирж┐ ржнрзБрж▓ржнрж╛ржмрзЗ рж╢рзЗрзЯрж╛рж░ ржХрж░рзЗржЫрзЗржиред ржжржпрж╝рж╛ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи ржПржмржВ рж╕ржарж┐ржХржнрж╛ржмрзЗ рж╢рзЗрзЯрж╛рж░ ржХрж░рзБржиред");
        }
      }).catch(() => {
        alert("тЭМ рж╢рзЗрзЯрж╛рж░ рж╕ржорзНржкржирзНржи рж╣рзЯржирж┐ред ржжржпрж╝рж╛ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред");
      });
    } else {
      navigator.clipboard.writeText(shareUrl);
      alert("ЁЯУЛ рж▓рж┐ржВржХ ржХржкрж┐ рж╣ржпрж╝рзЗржЫрзЗ! ржорзЗрж╕рзЗржЮрзНржЬрж╛рж░рзЗ ржкрзЗрж╕рзНржЯ ржХрж░рзЗ ржмржирзНржзрзБржжрзЗрж░ рж╢рзЗрзЯрж╛рж░ ржХрж░рзБржи, рждрж╛рж░ржкрж░ ржЖржмрж╛рж░ ржПржЦрж╛ржирзЗ ржлрж┐рж░рзЗ ржЖрж╕рзБржиред");

      const backStart = Date.now();
      setTimeout(() => {
        const confirmShare = confirm("ЁЯФД ржЖржкржирж┐ ржХрж┐ рж╢рзЗрзЯрж╛рж░ ржХрж░рзЗржЫрзЗржи?");
        if (confirmShare) {
          updateProgressSuccess();
        } else {
          alert("тЭМ ржЖржкржирж┐ ржнрзБрж▓ржнрж╛ржмрзЗ рж╢рзЗрзЯрж╛рж░ ржХрж░ржЫрзЗржиред ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржмрж╛рж░ рж╕ржарж┐ржХржнрж╛ржмрзЗ рж╢рзЗрзЯрж╛рж░ ржХрж░рзБржиред");
        }
      }, 10000);
    }
  }

  function updateProgressSuccess() {
    if (!firstClickDone) {
      progress = 65;
      firstClickDone = true;
    } else {
      if (progress < 100) {
        progress += 5;
        if (progress > 100) progress = 100;
      }
    }
    updateProgress();

    if (progress >= 100 && !countdownEndTime) {
      alert("ЁЯОЙ ржЖржкржирж┐ рж╢рзЗржпрж╝рж╛рж░ ржХрж░рж╛рж░ ржХрж╛ржЬ рж╕ржорзНржкрзВрж░рзНржг ржХрж░рзЗржЫрзЗржи! ржПржЦржи ржкрзЗржорзЗржирзНржЯ ржлрж░рзНржо ржкрзВрж░ржг ржХрж░рзЗ ржЖржкржирж╛рж░ рждржерзНржп ржжрж┐ржи ржПржмржВ ржЯрж╛ржХрж╛ ржмрзБржЭрзЗ ржирж┐ржиред");
      formElement.style.display = 'block';
    }
  }

  function updateProgress() {
    document.getElementById('progress-bar').style.width = progress + '%';
    document.getElementById('share-count').innerText = progress + '%';
  }

  function showCountdown() {
    if (progress < 100) {
      alert('ржХржоржкржХрзНрж╖рзЗ рззрзжрзж% рж╢рзЗрзЯрж╛рж░ ржХржоржкрзНрж▓рж┐ржЯ ржХрж░рзБржиред');
      return false;
    }

    const existing = localStorage.getItem('countdownEnd');
    if (!existing) {
      const endTime = Date.now() + 24 * 60 * 60 * 1000;
      localStorage.setItem('countdownEnd', endTime);
      countdownEndTime = endTime;
    }

    formElement.style.display = 'none';
    countdownBox.style.display = 'block';
    startCountdown(parseInt(localStorage.getItem('countdownEnd')));
    return true;
  }

  function startCountdown(countdownEnd) {
    let interval = setInterval(() => {
      let now = Date.now();
      let totalSeconds = Math.floor((countdownEnd - now) / 1000);

      if (totalSeconds <= 0) {
        clearInterval(interval);
        document.body.innerHTML = '<h2>тЫФ ржПржЗ ржбрж┐ржнрж╛ржЗрж╕ ржерзЗржХрзЗ рж╕ржорзЯ рж╢рзЗрж╖ рж╣рзЯрзЗ ржЧрзЗржЫрзЗ!</h2>';
        return;
      }

      const hours = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
      const minutes = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
      const seconds = String(totalSeconds % 60).padStart(2, '0');
      document.getElementById('countdown').innerText = `${hours}:${minutes}:${seconds}`;
    }, 1000);
  }

  const names = ["рж░рж╛ржмрзЗржпрж╝рж╛", "ржорж╛рж╣рж┐ржи", "рж╕рж╛ржжрж┐ржпрж╝рж╛", "ржЬрзБржмрж╛ржпрж╝рзЗрж░", "ржорзЗрж╣ржЬрж╛ржмрзАржи", "рждрж╛рж╣ржорж┐ржж", "ржирзБрж╕рж░рж╛ржд", "рж░рж╛ржпрж╝рж╣рж╛ржи", "рж╢рж╛ржирзНрждрж╛", "ржЬрж┐рж╕рж╛ржи", "ржорж┐ржо", "рж╕рж╛ржмрж░рж┐ржирж╛", "ржЖржХрж╛рж╢", "ржорзЛрж╣ржирж╛", "ржорж╛рж░рзБржл", "ржЗржорж░рж╛ржи", "рж░рзЛрж╣рж╛ржи", "рждрж╛ржиржнрзАрж░", "рж╕рзБржорж╛ржЗржпрж╝рж╛", "ржлрж╛рж░ржЬрж╛ржирж╛", "рж░рзЗрж╣рж╛ржи", "рж╕рж╛ржЬрж┐ржж", "ржорж╛рж╣рж┐рж░", "рж▓рж╛ржмрж┐ржмрж╛", "ржЬрж╛рж╣рж╛ржи", "рждрж╛ржирж╣рж╛", "рж╣рж┐ржорзЗрж▓", "ржЗрж╢рж░рж╛ржд", "ржЬрзЛржмрж╛ржпрж╝рзЗрж░", "ржорж╛рж▓рж┐рж╣рж╛"];
  const labelContainer = document.getElementById("random-labels");

  function showRandomLabels() {
    const name = names[Math.floor(Math.random() * names.length)];
    const label = document.createElement("div");
    label.className = "scroll-box";
    label.textContent = `ЁЯОЙ ржЕржнрж┐ржиржирзНржжржи ${name} ржкрзЗрзЯрзЗржЫрзЗржи рзлрзжрзж ржЯрж╛ржХрж╛ ржЙржкрж╣рж╛рж░!`;
    labelContainer.appendChild(label);
    if (labelContainer.childElementCount > 9) {
      labelContainer.removeChild(labelContainer.firstChild);
    }
  }

  setInterval(showRandomLabels, 2000);
</script>
